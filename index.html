<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Assignment 5</title>
</head>
<body>
  <h1>Assignment 5 Solutions</h1>

  <!-- Q1 -->
  <h2>i. Two Numbers Operations</h2>
  <input type="number" id="num1" placeholder="Enter first number">
  <input type="number" id="num2" placeholder="Enter second number">
  <button onclick="calculate()">Calculate</button>
  <p id="result1"></p>

  <!-- Q2 -->
  <h2>ii. Array Operations</h2>
  <button onclick="arrayOperations()">Run Array Operations</button>
  <p id="result2"></p>

  <!-- Q3 -->
  <h2>iii. Form Validation</h2>
  <form id="myForm" onsubmit="return validateForm()">
    <input type="text" id="name" placeholder="Enter Name"><br><br>
    <input type="email" id="email" placeholder="Enter Email"><br><br>
    <input type="number" id="age" placeholder="Enter Age"><br><br>
    <button type="submit">Submit</button>
  </form>
  <p id="result3"></p>

  <!-- Q4 -->
  <h2>iv. Student Object</h2>
  <button onclick="studentOperations()">Run Student Operations</button>
  <p id="result4"></p>

  <!-- Q5 -->
  <h2>v. Array Function (map, filter, reduce)</h2>
  <button onclick="arrayFunctions()">Run Array Function</button>
  <p id="result5"></p>

  <script>
    // Q1
    function calculate() {
      let a = parseFloat(document.getElementById("num1").value);
      let b = parseFloat(document.getElementById("num2").value);

      let sum = a + b;
      let diff = a - b;
      let prod = a * b;
      let quot = b !== 0 ? (a / b) : "Infinity";

      document.getElementById("result1").innerHTML =
        `Sum: ${sum} <br> Difference: ${diff} <br> Product: ${prod} <br> Quotient: ${quot}`;
    }

    // Q2
    function arrayOperations() {
      let arr = [12, 5, 33, 8, 21];

      let largest = Math.max(...arr);
      let smallest = Math.min(...arr);
      let ascending = [...arr].sort((a, b) => a - b);
      let descending = [...arr].sort((a, b) => b - a);

      document.getElementById("result2").innerHTML =
        `Array: [${arr}] <br> Largest: ${largest} <br> Smallest: ${smallest} <br>
         Ascending: [${ascending}] <br> Descending: [${descending}]`;
    }

    // Q3
    function validateForm() {
      let name = document.getElementById("name").value.trim();
      let email = document.getElementById("email").value.trim();
      let age = parseInt(document.getElementById("age").value);

      if (name === "") {
        document.getElementById("result3").innerHTML = "Name cannot be empty!";
        return false;
      }

      let emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
      if (!emailPattern.test(email)) {
        document.getElementById("result3").innerHTML = "Invalid email format!";
        return false;
      }

      if (isNaN(age) || age < 18 || age > 100) {
        document.getElementById("result3").innerHTML = "Age must be between 18 and 100!";
        return false;
      }

      document.getElementById("result3").innerHTML = "Form submitted successfully!";
      return false; // stop page reload
    }

    // Q4
    function studentOperations() {
      let student = {
        name: "Sambhav",
        age: 21,
        grade: "B"
      };

      student.class = "CS-101"; // add property
      student.grade = "A";      // update grade

      let info = "";
      for (let key in student) {
        info += `${key}: ${student[key]} <br>`;
      }

      document.getElementById("result4").innerHTML = info;
    }

    // Q5
    function arrayFunctions() {
      let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];

      let evenNumbers = arr.filter(num => num % 2 === 0); // remove odd
      let multiplied = evenNumbers.map(num => num * 2);   // multiply by 2
      let sum = multiplied.reduce((acc, val) => acc + val, 0); // sum

      document.getElementById("result5").innerHTML =
        `Original Array: [${arr}] <br> Even Numbers: [${evenNumbers}] <br>
         Multiplied by 2: [${multiplied}] <br> Sum: ${sum}`;
    }
  </script>
</body>
</html>
